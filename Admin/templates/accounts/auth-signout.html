{% extends "partials/layouts/master_auth.html" %}
{% load static %}

{% include "partials/main.html" %}
{% block meta %}
{% with title="Razpaas - Signed Out" %}
{% include "partials/title-meta.html" %}
{% endwith %}
{% endblock %}
{% block content %}

<div class="container">
  <div class="row justify-content-center align-items-center min-vh-100 pt-20 pb-10">
    <div class="col-12 col-md-8 col-lg-6 col-xl-5">
      <div class="card mx-xxl-8 shadow-none">
        <div class="card-body p-8 text-center">
          <div class="text-center mb-6">
            <img height="50" width="48" class="mb-3" alt="Razpaas Logo" src="/static/assets/images/logo-md.png">
            <h3 class="fw-medium">You've been signed out</h3>
            <p class="text-muted">Your session has ended successfully. Thank you for using Razpaas.</p>
          </div>

          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endfor %}
          {% endif %}

          <div class="mb-4">
            <img src="/static/assets/images/auth/signout.png" alt="Signed out illustration" class="img-fluid w-256px">
          </div>
          
          <div class="d-grid gap-4">
            <a href="{% url 'accounts:login' %}" class="btn btn-primary w-100">
              <i class="ri-login-box-line me-2"></i>Sign In Again
            </a>
            <a href="{% url 'accounts:dashboard' %}" class="btn btn-outline-light w-100 text-muted">
              <i class="ri-home-4-line me-2"></i>Back to Dashboard
            </a>
          </div>

          <div class="text-center mt-6">
            <div class="border-top pt-4">
              <p class="text-muted fs-13 mb-2">Need help?</p>
              <p class="text-muted fs-12">Contact your HR administrator or IT support</p>
            </div>
          </div>
        </div>
      </div>
      <p class="position-relative text-center fs-13 mb-0 text-muted">Â©
        <script>document.write(new Date().getFullYear())</script> Razpaas. Powered by Razpaas
      </p>
    </div>
  </div>
</div>

{% endblock content %}

{% block js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    
    let countdown = 10;
    const redirectTimer = setInterval(function() {
        countdown--;
        if (countdown <= 0) {
            clearInterval(redirectTimer);
             window.location.href = "{% url 'accounts:login' %}";
        }
    }, 1000);

    
    if (typeof(Storage) !== "undefined") {
        sessionStorage.clear();
    }
});
</script>
{% endblock js %}
